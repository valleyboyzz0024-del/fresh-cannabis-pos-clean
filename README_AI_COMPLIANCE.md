# CannaFlow AI Assistant & Canada Compliance Engine

This document provides information about the AI Assistant and Canada Compliance Engine features added to the CannaFlow POS system.

## Features

### AI Assistant

The AI Assistant is a natural language interface that allows users to interact with the CannaFlow POS system using voice or text commands. It works completely offline by default, with an optional cloud upgrade for enhanced capabilities.

#### Key Features:

1. **Natural Language Commands**:
   - "Add 2 Blue Dream to cart"
   - "Show inventory for sativa"
   - "Open float with $500"
   - "Close float with $750"

2. **Offline Mode**:
   - Works fully offline using keyword matching and intent mapping
   - No cloud dependency for core commands
   - Lightweight local processing

3. **Cloud Upgrade (Pro Tier)**:
   - Optional integration with OpenAI or Azure GPT
   - Enhanced understanding of complex queries
   - Multi-step task handling

4. **Voice Input**:
   - Speak commands directly to the assistant
   - Hands-free operation for busy staff

### Canada Compliance Engine

The Compliance Engine is a comprehensive logging and reporting system designed specifically for Canadian cannabis regulations. It supports all provinces and territories with province-specific report formatting.

#### Key Features:

1. **Comprehensive Logging**:
   - Sales Transactions
   - Inventory Adjustments
   - Cash Float Activity
   - Daily Summaries
   - Audit Trail

2. **Province-Specific Reporting**:
   - Supports all Canadian provinces and territories
   - Automatically formats reports to match local requirements
   - Includes province-specific fields and validations

3. **Export Options**:
   - CSV, JSON, or XML formats
   - Email, local file, or cloud export
   - Includes all required metadata

4. **Smart Compliance Features**:
   - Compliance alerts for missing information
   - Offline caching of reports
   - Audit trail viewer
   - Retention management

## Getting Started

### AI Assistant

1. **Access the AI Assistant**:
   - Click the floating action button (FAB) in the bottom right corner
   - Select "AI Assistant" from the menu

2. **Using Text Commands**:
   - Type your command in the text input field
   - Press send or hit Enter

3. **Using Voice Commands**:
   - Click the microphone icon
   - Speak your command clearly
   - The assistant will process your command automatically

4. **Settings**:
   - Access settings from the FAB menu
   - Toggle voice responses on/off
   - Enable/disable cloud AI (Pro tier)

### Compliance Engine

1. **Access the Compliance Dashboard**:
   - Click the floating action button (FAB) in the bottom right corner
   - Select "Compliance" from the menu

2. **Configure Province**:
   - Select your province from the settings
   - The system will automatically adjust reporting formats

3. **View Compliance Logs**:
   - Navigate to the "Logs" tab
   - Filter by log type (Sales, Inventory, Cash Float, etc.)
   - View detailed information for each log

4. **Generate Reports**:
   - Click "Generate Daily Summary" to create a summary report
   - Click "Export Logs" to export logs in your chosen format

5. **Manage Retention**:
   - View retention status in the Overview tab
   - Archive expired logs when prompted

## Tiered Features

### Free Tier
- Offline AI Assistant with basic commands
- Essential compliance logging
- CSV export format
- 6-month log retention

### Standard Tier
- Enhanced command recognition
- All province-specific compliance formats
- CSV and JSON export formats
- 1-year log retention
- Email exports

### Pro Tier
- Cloud AI integration for advanced understanding
- Comprehensive compliance dashboard
- All export formats (CSV, JSON, XML)
- 6+ years log retention
- Automated compliance checks
- Priority support

## Troubleshooting

### AI Assistant Issues

- **Command not recognized**: Try rephrasing your command using simpler terms
- **Voice recognition problems**: Speak clearly and reduce background noise
- **Assistant not responding**: Check that the AI Assistant is enabled in settings

### Compliance Engine Issues

- **Missing reports**: Generate a daily summary manually from the dashboard
- **Export failures**: Check your internet connection for cloud exports
- **Province-specific errors**: Ensure all required fields are completed

## Support

For additional support, contact the CannaFlow support team at support@canna-flow.com.